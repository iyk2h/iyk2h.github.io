정규화(normalization)

---

## 정규화

이상현상이 발생하는 테이블을 수정하여 정상적으로 만드는 과정, 정규화를 하기 위해 테이블의 기본키와 함수 종속성을 파악해야 한다.

## 이상현상의 개념

잘못 설계된 테이블로 삽입, 삭제, 수정 같은 데이터 조작을 하면 이상현상이 일어난다. 테이블을 독립적으로 나누지 않고 하나의 큰 테이블로 작성시 일어나는 이상현상이다.

#### 삭제이상(Delectoin anomaly)

투플 삭제 시 같이 저장된 다른 정보가지 연쇄적으로 삭제되는 현상 -> 연쇄삭제 문제발생

#### 삽입이상(insertion anomaly)

투플 사입 시 특정 속성에 해당하는 값이 없어 NULL 값을 입력해야 하는 션상 -> NULL 값 문제 발생

#### 수정이상(update anomaly)

투플 수정시 중복으로 저장된 뎅터 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상 -> 불일치 문제 발생



## 함수 종속성

userId(pk) -> user_Address 와 같이 왼쪽 속성의 모든 값에 대하여 오른쪽 속성의 값이 유일하게 결정될 때 함수적으로 종속된다고 한다. 즉, 릴레이션 속성간의  함수적으로 종속하는 성질을 뜻한다.

릴레이션 속성간의 종속성을 파악해 릴레이션을 분리해 이상현상이 발생하지 않게 하는것이 중요하다.



## 함수 종속성 결정자(릴레이션의 기본키)

릴레이션의 기본키가 함수 종속성의 결정자가 된다. 기본키를 알아야 정규화 과정을 하기 수월하다.



## 정규화(normalization) 개념

이상현상의 원인은 여러 가지가 있는데, 대부분 두 가지 이상의 정보가 한 릴레이션에 저장되어 있어 발생된다. 이상현상을 제거하기 위해 릴레이션을 분해한다. 분해된 릴레이션에 이상현상이 남아있다면 이상현상이 없어질 때까지 분해해 이상현상을 제거한다. 이러한 과정을 정규화라 한다.



## 정규화 과정

이상현상이 있는 릴레이션은 이상현상을 일으키는 함수 종속성의 유현에 따라 등급을 구분할 수 있다. 릴레이션은 정규형이라는 개념으로 구분하며 정규형이 높을수록 이상현상은 줄어든다.

### 제1정규형

릴레이션의 모든 속성값이 원자값이어야 한다는 조건

- 과정 및 예

### 제2정규형

릴레이션이 제1정규형이고 기본키가 아닌 속성이 기본키에 완전 함수 종속일 때

즉, 릴레이션의 기본키가 복합키일 때, 복합키의 일부분이 다른 속성의 기본키인지 아닌지를 판단하는 것

- 과정 및 예

### 제3정규형

릴레이션이 제 2규형이고 기본키가 아닌 속성이 기본키에 비이행적으로 종속할 때 제3정규형이라고 하며, 이행적 종속이란 A->B,B->C 가 성립할 때 A->C가 성립되는 함수 종속성을 뜻함

- 과정 및 예

### BCNF

릴레이션에서 함수 종속성 X->Y가 성립할 때 모든 결정자 X가 후보키인 경우

- 과정 및 예

